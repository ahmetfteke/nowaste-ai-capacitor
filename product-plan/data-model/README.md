# Data Model

## Overview

No Waste AI uses five core entities to track food inventory and expiration alerts.

## Entities

### User
A person using the app to track their food inventory and receive expiration alerts.

**Fields:**
- `id` — Unique identifier
- `email` — User's email address
- `name` — Display name
- `avatarUrl` — Optional profile image

### StorageSpace
A location where food is stored in the user's home.

**Fields:**
- `id` — Unique identifier (e.g., "fridge", "freezer")
- `name` — Display name (e.g., "Fridge", "Freezer")
- `icon` — Icon identifier for UI display

**Default Spaces:**
- Fridge
- Freezer
- Pantry
- Counter

### FoodItem
A food product in the user's inventory with tracking information.

**Fields:**
- `id` — Unique identifier
- `name` — Item name (e.g., "Greek Yogurt")
- `quantity` — Amount (e.g., 2)
- `unit` — Unit of measure (e.g., "cups", "lbs")
- `expirationDate` — Estimated expiration date
- `storageSpaceId` — Reference to StorageSpace
- `status` — "active" or "used"
- `addedAt` — When item was added to inventory

### Capture
A photo submission that gets processed by AI to extract food items.

**Fields:**
- `id` — Unique identifier
- `imageUrl` — URL to the uploaded photo
- `type` — "groceries" or "receipt"
- `status` — "processing", "completed", "failed"
- `createdAt` — When capture was submitted

### Alert
A notification about an item approaching or past its expiration date.

**Fields:**
- `id` — Unique identifier
- `foodItemId` — Reference to FoodItem
- `foodItemName` — Denormalized item name for display
- `message` — Alert message text
- `expirationDate` — When the item expires
- `status` — "unread", "read", "snoozed", "dismissed"
- `sentAt` — When alert was generated
- `snoozedUntil` — Optional snooze timestamp

### NotificationSettings
User preferences for expiration alerts.

**Fields:**
- `enabled` — Whether notifications are turned on
- `reminderDays` — Array of days before expiration to alert (e.g., [1, 3])

## Relationships

```
User
├── has many StorageSpaces
├── has many Captures
├── has many FoodItems (through StorageSpaces)
└── has one NotificationSettings

StorageSpace
├── belongs to User
└── has many FoodItems

FoodItem
├── belongs to StorageSpace
├── created by Capture (optional)
└── has many Alerts

Capture
├── belongs to User
└── creates many FoodItems

Alert
├── belongs to FoodItem
└── belongs to User (implicit through FoodItem)
```

## Notes

- FoodItems can be created directly (manual entry) or via Capture (AI extraction)
- Alerts are generated by a background process based on NotificationSettings
- StorageSpaces are typically seeded with default values but can be customized
